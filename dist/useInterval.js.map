{"version":3,"sources":["useInterval.js"],"names":["defaultOptions","cancelOnUnmount","useInterval","fn","milliseconds","options","opts","timeout","callback","isCleared","setIsCleared","clear","current","clearInterval","setInterval"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;AAEA,IAAMA,cAAc,GAAG;AACrBC,EAAAA,eAAe,EAAE;AADI,CAAvB;;AAQA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,EAAD,EAAKC,YAAL,EAAgD;AAAA,MAA7BC,OAA6B,uEAAnBL,cAAmB;;AAClE,MAAMM,IAAI,qBAAQN,cAAR,MAA4BK,OAAO,IAAI,EAAvC,CAAV;;AACA,MAAME,OAAO,GAAG,oBAAhB;AACA,MAAMC,QAAQ,GAAG,mBAAOL,EAAP,CAAjB;;AAHkE,kBAIhC,qBAAS,KAAT,CAJgC;AAAA;AAAA,MAI3DM,SAJ2D;AAAA,MAIhDC,YAJgD;;AAOlE,MAAMC,KAAK,GAAG,wBAAY,YAAM;AAC9B,QAAIJ,OAAO,CAACK,OAAZ,EAAqB;AACnBC,MAAAA,aAAa,CAACN,OAAO,CAACK,OAAT,CAAb;AACAF,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;AACF,GALa,EAKX,EALW,CAAd;AAQA,wBAAU,YAAM;AACd,QAAI,OAAOP,EAAP,KAAc,UAAlB,EAA8B;AAC5BK,MAAAA,QAAQ,CAACI,OAAT,GAAmBT,EAAnB;AACD;AACF,GAJD,EAIG,CAACA,EAAD,CAJH;AAOA,wBAAU,YAAM;AACd,QAAI,OAAOC,YAAP,KAAwB,QAA5B,EAAsC;AACpCG,MAAAA,OAAO,CAACK,OAAR,GAAkBE,WAAW,CAAC,YAAM;AAClCN,QAAAA,QAAQ,CAACI,OAAT;AACD,OAF4B,EAE1BR,YAF0B,CAA7B;AAGD;AACF,GAND,EAMG,CAACA,YAAD,CANH;AASA,wBAAU;AAAA,WAAM,YAAM;AACpB,UAAIE,IAAI,CAACL,eAAT,EAA0B;AACxBU,QAAAA,KAAK;AACN;AACF,KAJS;AAAA,GAAV,EAIG,EAJH;AAMA,SAAO,CAACF,SAAD,EAAYE,KAAZ,CAAP;AACD,CAtCD;;eAwCeT,W","sourcesContent":["import { useEffect, useState, useCallback, useRef } from 'react';\n\nconst defaultOptions = {\n  cancelOnUnmount: true,\n};\n\n/**\n * An async-utility hook that accepts a callback function and a delay time (in milliseconds), then repeats the\n * execution of the given function by the defined milliseconds.\n */\nconst useInterval = (fn, milliseconds, options = defaultOptions) => {\n  const opts = { ...defaultOptions, ...(options || {}) };\n  const timeout = useRef();\n  const callback = useRef(fn);\n  const [isCleared, setIsCleared] = useState(false);\n\n  // the clear method\n  const clear = useCallback(() => {\n    if (timeout.current) {\n      clearInterval(timeout.current);\n      setIsCleared(true);\n    }\n  }, []);\n\n  // if the provided function changes, change its reference\n  useEffect(() => {\n    if (typeof fn === 'function') {\n      callback.current = fn;\n    }\n  }, [fn]);\n\n  // when the milliseconds change, reset the timeout\n  useEffect(() => {\n    if (typeof milliseconds === 'number') {\n      timeout.current = setInterval(() => {\n        callback.current();\n      }, milliseconds);\n    }\n  }, [milliseconds]);\n\n  // when component unmount clear the timeout\n  useEffect(() => () => {\n    if (opts.cancelOnUnmount) {\n      clear();\n    }\n  }, []);\n\n  return [isCleared, clear];\n};\n\nexport default useInterval;\n"],"file":"useInterval.js"}